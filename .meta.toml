# Generated from:
# https://github.com/zopefoundation/meta/tree/master/config/c-code
[meta]
template = "c-code"
commit-id = "ce405f15dc740bf7cebc3ffe0fd800a633012fb1"

[python]
with-appveyor = true
with-windows = false
with-pypy = true
with-legacy-python = true
with-docs = false
with-sphinx-doctests = false

[tox]
use-flake8 = true
additional-envlist = [
    "py27-c3",
    "py35-c3",
    "py36-c3",
    "py37-c3",
    "py38-c3",
    "py39-c3",
    ]
testenv-setenv = [
    "c3: EXTENSIONCLASS_C3_MRO=1",
    ]

[coverage]
fail-under = 100

[manifest]
additional-rules = [
    "include *.sh",
    "recursive-include src *.c",
    "recursive-include src *.h",
    ]

[appveyor]
global-env-vars = [
    "# Currently the builds use @dataflake's Appveyor account.  The PyPI token",
    "# belongs to zope.wheelbuilder, managed by @mgedmin and @dataflake.",
    "",
    "global:",
    "  TWINE_USERNAME: __token__",
    "  TWINE_PASSWORD:",
    "    secure: vSlDBj79vziJOA5k3z16r+g2o8qgGdqRpJVY3YveTMjA87uX1OCZ14dtAzko9qt4mUGGnm66Ps3w0me/5dU1ufMR5kSaAhX0g1m1oSkJ/Ti2AyvygqlsMzC7r/atGXSXUrlb7UFz5WKpWedUic7193xIFxG23EFCrxsgQziucw1eQLXebsB4LvmF7wrJy+9LUgTgsvy6B/fc37SRKE+611+H8HVo8SmPVp+dyDyeDX+hpnt5Qhp1kbPCqlJfJoy3CHxX+slUu7ZUS28BUT5vHA==",
    ]
build-script = [
    "- python -W ignore setup.py -q bdist_wheel",
    ]

[github-actions]
additional-config = [
    "- [\"2.7\",   \"py27-c3\"]",
    "- [\"3.5\",   \"py35-c3\"]",
    "- [\"3.6\",   \"py36-c3\"]",
    "- [\"3.7\",   \"py37-c3\"]",
    "- [\"3.8\",   \"py38-c3\"]",
    "- [\"3.9\",   \"py39-c3\"]",
    ]
